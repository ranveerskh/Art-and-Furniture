<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Business Tracker</title>
</head>
<body>
  <div id="app"></div>

  <script type="module">
    // Import Firebase SDK
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    // Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyA8hNmjkXT1SaCFJ0F7R2UvVoLpSZc3fKM",
      authDomain: "epoxyresin-60ea7.firebaseapp.com",
      projectId: "epoxyresin-60ea7",
      storageBucket: "epoxyresin-60ea7.firebasestorage.app",
      messagingSenderId: "591026708184",
      appId: "1:591026708184:web:0b9431b279a5b0026ec1ad"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Example login function
    async function login(email, password) {
      try {
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        console.log("Logged in as:", userCredential.user.email);
        // call your dashboard display function here
      } catch (error) {
        console.error("Login error:", error.message);
        alert("Login failed: " + error.message);
      }
    }

    // Example add expense function
    async function addExpense(user, date, reason, amount, paidBy) {
      try {
        await addDoc(collection(db, "expenses"), {
          user,
          date,
          reason,
          amount,
          paidBy
        });
        alert("Expense added!");
      } catch (error) {
        console.error("Error adding expense:", error);
      }
    }

    // Example load expenses function
    async function loadExpenses() {
      const querySnapshot = await getDocs(collection(db, "expenses"));
      querySnapshot.forEach((doc) => {
        console.log(`${doc.id} =>`, doc.data());
      });
    }

    // Example delete expense function
    async function deleteExpense(expenseId) {
      try {
        await deleteDoc(doc(db, "expenses", expenseId));
        alert("Expense deleted!");
      } catch (error) {
        console.error("Error deleting expense:", error);
      }
    }

    // Replace these with actual user input
    // login("ranveer@gmail.com", "password123");
    // addExpense("Ranveer", "2025-05-03", "Office supplies", 25, "Aman");
    // loadExpenses();
    // deleteExpense("EXPENSE_ID_HERE");

  </script>
</body>
</html>
